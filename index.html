<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>stdgpu: Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="stdgpu_logo.png" height="70" vspace="5" hspace="5"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber"><font size="5">1.0.0</font></span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Overview </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="about-the-project"></a>
About the Project</h1>
<p>stdgpu is an open-source library which provides several generic GPU data structures for fast and reliable data management. Our library aims to extend previous established frameworks, therefore bridging the gap between CPU and GPU computing. This way, it provides clean and familiar interfaces and integrates seamlessly into new as well as existing projects. stdgpu has been developed as part of the SLAMCast live telepresence system which performs real-time, large-scale 3D scene reconstruction from RGB-D camera images as well as real-time data streaming between a server and an arbitrary number of remote clients. We hope to foster further developments towards unified CPU and GPU computing and welcome contributions from the community.</p>
<h1><a class="anchor" id="getting-started"></a>
Getting Started</h1>
<p>To compile the library, please make sure to fulfill the build requirements and execute the respective build scripts.</p>
<h2><a class="anchor" id="prerequisites"></a>
Prerequisites</h2>
<p>The following components (or newer versions) are required to build the library:</p>
<ul>
<li>C++14 compiler:<ul>
<li>Ubuntu 18.04: GCC 7: <code>sudo apt install build-essential</code></li>
<li>Windows: Visual Studio 2019</li>
</ul>
</li>
<li>CUDA 10.0: <code><a href="https://developer.nvidia.com/cuda-downloads">https://developer.nvidia.com/cuda-downloads</a></code></li>
<li>CMake 3.13: <code><a href="https://apt.kitware.com/">https://apt.kitware.com/</a></code></li>
<li>Doxygen 1.8.13 (optional): <code>sudo apt install doxygen</code></li>
</ul>
<p>Older compiler versions may also work but are currently considered experimental and untested.</p>
<h2><a class="anchor" id="building"></a>
Building</h2>
<p>Use the setup script to perform a clean build (release mode in this case, with default installation path to <code>./bin</code>) and run the tests:</p>
<div class="fragment"><div class="line">sh scripts/setup_release.sh</div></div><!-- fragment --><p>Building the library - in the respective build mode - afterwards can be done using</p>
<div class="fragment"><div class="line">sh scripts/build_release.sh</div></div><!-- fragment --><p>and the tests can be executed using</p>
<div class="fragment"><div class="line">sh scripts/run_tests_release.sh</div></div><!-- fragment --><p>The documentation can be build (optional, requires Doxygen) using</p>
<div class="fragment"><div class="line">sh scripts/create_documentation.sh</div></div><!-- fragment --><p>To install the library at the configured path, use</p>
<div class="fragment"><div class="line">sh scripts/install.sh</div></div><!-- fragment --><h1><a class="anchor" id="usage"></a>
Usage</h1>
<p>In the following, we show some examples on how the library can be integrated into and used in a project.</p>
<h2><a class="anchor" id="cmake-integration"></a>
CMake Integration</h2>
<p>To use the library in your project, you can either install it externally first and then include it using <code>find_package</code>:</p>
<div class="fragment"><div class="line">find_package(stdgpu 1.0.0 REQUIRED)</div><div class="line"></div><div class="line">add_library(foo ...)</div><div class="line"></div><div class="line">target_link_libraries(foo PUBLIC stdgpu::stdgpu)</div></div><!-- fragment --><p>Or you can embed it into your project and build it from a subdirectory:</p>
<div class="fragment"><div class="line"># Exclude the examples from the build</div><div class="line">set(STDGPU_BUILD_EXAMPLES OFF CACHE INTERNAL &quot;&quot;)</div><div class="line"></div><div class="line"># Exclude the tests from the build</div><div class="line">set(STDGPU_BUILD_TESTS OFF CACHE INTERNAL &quot;&quot;)</div><div class="line"></div><div class="line">add_subdirectory(stdgpu)</div><div class="line"></div><div class="line">add_library(foo ...)</div><div class="line"></div><div class="line">target_link_libraries(foo PUBLIC stdgpu::stdgpu)</div></div><!-- fragment --><h2><a class="anchor" id="cmake-options"></a>
CMake Options</h2>
<p>To configure the library, you can set the following options:</p>
<p>Build:</p>
<ul>
<li><code>STDGPU_SETUP_COMPILER_FLAGS</code>: Constructs the compiler flags, default: <code>ON</code> if standalone, <code>OFF</code> if included via <code>add_subdirectory</code></li>
<li><code>STDGPU_BUILD_EXAMPLES</code>: Build the example, default: <code>ON</code></li>
<li><code>STDGPU_BUILD_TESTS</code>: Build the unit tests, default: <code>ON</code></li>
</ul>
<p>Configuration:</p>
<ul>
<li><code>STDGPU_ENABLE_AUXILIARY_ARRAY_WARNING</code>: Enable warnings when auxiliary arrays are allocated in memory API, default: <code>OFF</code></li>
<li><code>STDGPU_ENABLE_CONTRACT_CHECKS</code>: Enable contract checks, default: <code>OFF</code> if <code>CMAKE_BUILD_TYPE</code> equals <code>Release</code> or <code>MinSizeRel</code>, <code>ON</code> otherwise</li>
<li><code>STDGPU_ENABLE_MANAGED_ARRAY_WARNING</code>: Enable warnings when managed memory is initialized on the host side but should be on device in memory API, default: <code>OFF</code></li>
<li><code>STDGPU_USE_32_BIT_INDEX</code>: Use 32-bit instead of 64-bit signed integer for <code>index_t</code>, default: <code>ON</code></li>
<li><code>STDGPU_USE_FAST_DESTROY</code>: Use fast destruction of allocated arrays (filled with a default value) by omitting destructor calls in memory API, default: <code>OFF</code></li>
<li><code>STDGPU_USE_FIBONACCI_HASHING</code>: Use Fibonacci Hashing instead of Modulo to compute hash bucket indices, default: <code>ON</code></li>
</ul>
<h2><a class="anchor" id="examples"></a>
Examples</h2>
<p>This library offers flexible interfaces to reliably perform complex tasks on the GPU such as the creation of the update set at the server component of the related SLAMCast system:</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span><a class="code" href="namespacestdgpu.html">stdgpu</a></div><div class="line">{</div><div class="line"><span class="keyword">template</span> &lt;&gt;</div><div class="line"><span class="keyword">struct </span>hash&lt;short3&gt;</div><div class="line">{</div><div class="line">    <span class="keyword">inline</span> <a class="code" href="platform_8h.html#ab6e41d965f54b8f40fdd4cc553ddf313">STDGPU_HOST_DEVICE</a> std::size_t</div><div class="line">    <a class="code" href="structstdgpu_1_1hash.html#a0320bfd1f0f3d0f647da4e188b5f676c">operator()</a>(<span class="keyword">const</span> short3&amp; key)<span class="keyword"> const</span></div><div class="line"><span class="keyword">    </span>{</div><div class="line">        <span class="keywordflow">return</span> key.x * 73856093</div><div class="line">             ^ key.y * 19349669</div><div class="line">             ^ key.z * 83492791;</div><div class="line">    }</div><div class="line">};</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// Spatial hash map for voxel block management</span></div><div class="line"><span class="keyword">using</span> block_map = <a class="code" href="classstdgpu_1_1unordered__map.html">stdgpu::unordered_map&lt;short3, voxel*&gt;</a>;</div><div class="line"></div><div class="line"></div><div class="line">__global__ <span class="keywordtype">void</span></div><div class="line">compute_update_set(<span class="keyword">const</span> short3* blocks,</div><div class="line">                   <span class="keyword">const</span> <a class="code" href="cstddef_8h.html#ab7d7736cf297f156865dc68630727f2f">stdgpu::index_t</a> n,</div><div class="line">                   <span class="keyword">const</span> block_map tsdf_block_map,</div><div class="line">                   <a class="code" href="classstdgpu_1_1unordered__set.html">stdgpu::unordered_set&lt;short3&gt;</a> mc_update_set)</div><div class="line">{</div><div class="line">    <span class="comment">// Global thread index</span></div><div class="line">    <a class="code" href="cstddef_8h.html#ab7d7736cf297f156865dc68630727f2f">stdgpu::index_t</a> i = blockIdx.x * blockDim.x + threadIdx.x;</div><div class="line">    <span class="keywordflow">if</span> (i &gt;= n) <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line">    short3 b_i = blocks[i];</div><div class="line"></div><div class="line">    <span class="comment">// Neighboring candidate blocks for the update</span></div><div class="line">    short3 mc_blocks[8]</div><div class="line">    = {</div><div class="line">        short3(b_i.x - 0, b_i.y - 0, b_i.z - 0),</div><div class="line">        short3(b_i.x - 1, b_i.y - 0, b_i.z - 0),</div><div class="line">        short3(b_i.x - 0, b_i.y - 1, b_i.z - 0),</div><div class="line">        short3(b_i.x - 0, b_i.y - 0, b_i.z - 1),</div><div class="line">        short3(b_i.x - 1, b_i.y - 1, b_i.z - 0),</div><div class="line">        short3(b_i.x - 1, b_i.y - 0, b_i.z - 1),</div><div class="line">        short3(b_i.x - 0, b_i.y - 1, b_i.z - 1),</div><div class="line">        short3(b_i.x - 1, b_i.y - 1, b_i.z - 1),</div><div class="line">    };</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<a class="code" href="cstddef_8h.html#ab7d7736cf297f156865dc68630727f2f">stdgpu::index_t</a> j = 0; j &lt; 8; ++j)</div><div class="line">    {</div><div class="line">        <span class="comment">// Only consider existing neighbors</span></div><div class="line">        <span class="keywordflow">if</span> (tsdf_block_map.contains(mc_blocks[j]))</div><div class="line">        {</div><div class="line">            mc_update_set.<a class="code" href="classstdgpu_1_1unordered__set.html#ac04e4f261bf5595d7bd98767f7d786ef">insert</a>(mc_blocks[j]);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p>On the other hand, simpler tasks such as the integration of a range of values can be expressed very conveniently:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>stream_set</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keywordtype">void</span></div><div class="line">    add_blocks(<span class="keyword">const</span> short3* blocks,</div><div class="line">               <span class="keyword">const</span> <a class="code" href="cstddef_8h.html#ab7d7736cf297f156865dc68630727f2f">stdgpu::index_t</a> n)</div><div class="line">    {</div><div class="line">        <span class="keyword">set</span>.insert(stdgpu::make_device(blocks),</div><div class="line">                   stdgpu::make_device(blocks + n));</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Further functions</span></div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <a class="code" href="classstdgpu_1_1unordered__set.html">stdgpu::unordered_set&lt;short3&gt;</a> <span class="keyword">set</span>;</div><div class="line">    <span class="comment">// Further members</span></div><div class="line">};</div></div><!-- fragment --><p>For more examples, please refer to the <code>examples</code> directory.</p>
<h1><a class="anchor" id="contributing"></a>
Contributing</h1>
<p>If you encounter a bug or want to propose a new feature, please open an issue or pull request.</p>
<h1><a class="anchor" id="license"></a>
License</h1>
<p>Distributed under the Apache 2.0 License. See <code>LICENSE</code> for more information.</p>
<p>If you use this library in one of your research projects, please also cite the related literature:</p>
<div class="fragment"><div class="line">@UNPUBLISHED{stotko2019stdgpu,</div><div class="line">    author = {Stotko, Patrick},</div><div class="line">     title = {{stdgpu: Efficient STL-like Data Structures on the GPU}},</div><div class="line">      year = {2019},</div><div class="line">     month = aug,</div><div class="line">      note = {arXiv:1908.05936},</div><div class="line">       url = {https://arxiv.org/abs/1908.05936}</div><div class="line">}</div></div><!-- fragment --><div class="fragment"><div class="line">@article{stotko2019slamcast,</div><div class="line">    author = {Stotko, P. and Krumpen, S. and Hullin, M. B. and Weinmann, M. and Klein, R.},</div><div class="line">     title = {{SLAMCast: Large-Scale, Real-Time 3D Reconstruction and Streaming for Immersive Multi-Client Live Telepresence}},</div><div class="line">   journal = {IEEE Transactions on Visualization and Computer Graphics},</div><div class="line">    volume = {25},</div><div class="line">    number = {5},</div><div class="line">     pages = {2102--2112},</div><div class="line">      year = {2019}</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="Contact"></a>
Contact</h1>
<p>Patrick Stotko - <a href="#" onclick="location.href='mai'+'lto:'+'sto'+'tk'+'o@c'+'s.'+'uni'+'-b'+'onn'+'.d'+'e'; return false;">stotk<span style="display: none;">.nosp@m.</span>o@cs<span style="display: none;">.nosp@m.</span>.uni-<span style="display: none;">.nosp@m.</span>bonn<span style="display: none;">.nosp@m.</span>.de</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
</body>
</html>
